<!-- Wappler include head-page="layouts/userauth/password-change" fontawesome_5="cdn" bootstrap5="local" is="dmx-app" id="userauth/password-change" appConnect="local" components="{dmxNotifications:{},dmxBrowser:{},dmxStateManagement:{},dmxValidator:{},dmxBootstrap5Modal:{},dmxBootbox5:{},dmxFormatter:{}}" jquery_slim_35="local" moment_2="local" -->
<link href="/css/userauth/password-change.css" rel="stylesheet" />
<meta content="/userauth/password-change" name="ac:route">
<div id="browser" is="dmx-browser">
</div>
<dmx-cookie-manager id="cookies">
</dmx-cookie-manager>
<dmx-notifications id="notify" timeout="500">
</dmx-notifications>
<dmx-serverconnect id="get_info" url="/api/userauth/account/info">
</dmx-serverconnect>
<dmx-value dmx-bind:value="get_info.data.roles.values('role').contains('admin')" id="is_admin">
</dmx-value>
<dmx-value dmx-bind:value="(get_info.data.identity?true:false)" id="is_user">
</dmx-value>
<div class="d-flex" fid="33:155" id="password-change">
    <div fid="41:911" fname="Password Change" id="_41_911">
        <dmx-serverconnect dmx-on:success="browser.goto('/userauth/password-change-success')" fid="I41:911;60:4996" id="logout" noload="" url="/api/userauth/account/logout">
        </dmx-serverconnect>
        <div fid="I41:911;11:5613" fname="Input Fields Box" id="_I41_911-11_5613">
            <div fid="I41:911;11:5613;11:3829" fname="Input Fields Box - Base" id="_I41_911-11_5613-11_3829">
                <dmx-value fid="I41:911;11:5613;11:3829;44:1122" id="var_error_message">
                </dmx-value>
                <span fid="I41:911;11:5613;11:3829;11:2113" fname="Title" id="_I41_911-11_5613-11_3829-11_2113">
                    Password Change
                </span>
                <header dmx-text="'<%=_('$_ENV.USERAUTH_PASSWORD_CHANGE_MESSAGE',locals)%>'" fid="I41:911;11:5613;11:3829;11:2114" id="message">
                    Description text goes here here here here here here here here here here here here here
                </header>
                <form action="/api/<% if($_ENV.USERAUTH_PASSWORD_CHANGE_API){ %><%=_('$_ENV.USERAUTH_PASSWORD_CHANGE_API',locals)%><% } else { %>userauth/password/change<% } %>" dmx-on:invalid="var_error_message.setValue('Please supply all fields')" dmx-on:success="logout.load({})" dmx-on:unauthorized="var_error_message.setValue(lastError.response)" fid="I41:911;11:5613;11:3829;8:155" id="form" is="dmx-serverconnect-form" method="post">
                    <input class="form-control" fid="I41:911;11:5613;11:3829;61:4999" id="input" name="input" placeholder="input [hidden|ignore]" type="hidden">
                    <div fid="I41:911;11:5613;11:3829;106:746" fname="Frame 31" id="_I41_911-11_5613-11_3829-106_746">
                        <div fid="I41:911;11:5613;11:3829;9:237" fname="Input field with label" id="_I41_911-11_5613-11_3829-9_237">
                            <span fid="I41:911;11:5613;11:3829;9:237;9:234" fname="Label" id="_I41_911-11_5613-11_3829-9_237-9_234">
                                Old Password
                            </span>
                            <div fid="I41:911;11:5613;11:3829;9:237;9:235" fname="Input field" id="_I41_911-11_5613-11_3829-9_237-9_235">
                                <input fid="I41:911;11:5613;11:3829;9:237;9:235;9:232" id="old_password" name="old_password" placeholder="Enter your old password" type="password">
                            </div>
                        </div>
                        <div fid="I41:911;11:5613;11:3829;10:232" fname="Input field with label" id="_I41_911-11_5613-11_3829-10_232">
                            <span fid="I41:911;11:5613;11:3829;10:232;9:234" fname="Label" id="_I41_911-11_5613-11_3829-10_232-9_234">
                                New Password
                            </span>
                            <div fid="I41:911;11:5613;11:3829;10:232;9:235" fname="Input field" id="_I41_911-11_5613-11_3829-10_232-9_235">
                                <input dmx-on:keypress.enter="form.submit()" fid="I41:911;11:5613;11:3829;10:232;9:235;9:232" id="new_password" name="new_password" placeholder="Enter your new password" type="password">
                            </div>
                        </div>
                    </div>
                    <div dmx-bind:condition="'<%=_('$_ENV.RECAPTCHA_SITE_KEY',locals)%>'" fid="I41:911;11:5613;11:3829;9:198" id="Recaptcha" is="dmx-if">
                        <div fid="I41:911;11:5613;11:3829;9:198;107:2685" fname="Add top and bottom padding" id="_I41_911-11_5613-11_3829-9_198-107_2685">
                            <div class="g-recaptcha" data-sitekey="<%=_('$_ENV.RECAPTCHA_SITE_KEY',locals)%>" fid="I41:911;11:5613;11:3829;9:198;46:3593" id="Recaptcha_box">
                            </div>
                        </div>
                    </div>
                    <div fid="I41:911;11:5613;11:3829;106:2233" fname="Frame 32" id="_I41_911-11_5613-11_3829-106_2233">
                        <div fid="I41:911;11:5613;11:3829;29:658" fname="Message box" id="_I41_911-11_5613-11_3829-29_658">
                            <header dmx-text="var_error_message.value" fid="I41:911;11:5613;11:3829;8:160" id="error_message">
                                Message goes here
                            </header>
                        </div>
                        <div class="d-flex" dmx-on:click="form.submit()" fid="I41:911;11:5613;11:3829;9:270" id="submit">
                            <span fid="I41:911;11:5613;11:3829;9:270;9:269" fname="Press" id="_I41_911-11_5613-11_3829-9_270-9_269">
                                SUBMIT
                            </span>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>